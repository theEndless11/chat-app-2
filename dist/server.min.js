"use strict";var _require=require("socket.io"),Server=_require.Server;module.exports=function(e,o){if(!o.socket.server.io){var n=new Server(o.socket.server);n.on("connection",function(s){console.log("A user connected"),s.on("sendMessage",function(e){var o=(new Date).toLocaleTimeString();s.emit("receiveMessage",{username:e.username,message:e.message,time:o}),n.to(e.room).emit("receiveMessage",{username:e.username,message:e.message,time:o})}),s.on("switchRoom",function(e){s.leave("public"),s.leave("private"),s.join(e)}),s.on("disconnect",function(){console.log("User disconnected")})}),o.socket.server.io=n}o.end()};
//# sourceMappingURL=server.min.js.map
